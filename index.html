<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Night Shift</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- ========== START SCREEN ========== -->
    <div id="start-screen">
        <h1>NIGHT SHIFT</h1>
        <div id="start-night-display">Night 1</div>
        <button class="menu-btn" onclick="showInstructions()">START GAME</button>
        <button class="menu-btn" onclick="resetData()" style="font-size:14px;width:150px;border-color:#400;color:#844">ERASE DATA</button>
    </div>

    <!-- ========== INSTRUCTION SCREEN ========== -->
    <div id="instruction-screen">
        <div class="inst-box">
            <h2>HOW TO PLAY</h2>
            <ul>
                <li>Survive your shift from <strong>12:00 AM</strong> to <strong>6:00 AM</strong>.</li>
                <li>Check the <span class="inst-highlight">Camera Monitor</span> to track the movement of the animatronics.</li>
                <li>Use the <span class="inst-highlight">Door Lights</span> to check the blind spots outside your office.</li>
                <li>If an animatronic is at your door, press the <span class="inst-highlight">Door Button</span> immediately to close it.</li>
                <li><strong>Manage your Power!</strong> Using doors, lights, and cameras drains your battery. If you run out of power... you are dead.</li>
            </ul>
            <div style="text-align:center;margin-top:30px;">
                <button class="menu-btn" onclick="startGameplay()">BEGIN SHIFT</button>
            </div>
        </div>
    </div>

    <!-- ========== ATMOSPHERE OVERLAYS (office only) ========== -->
    <div id="vignette"></div>
    <div id="static-overlay"></div>

    <!-- ========== POWER OUT OVERLAY ========== -->
    <div id="powerout-overlay"></div>

    <!-- ========== OFFICE VIEWPORT ========== -->
    <div id="viewport">
        <div id="office">
            <div class="wall-texture"></div>
            <div class="floor"></div>

            <!-- Left Hallway (Bonnie) -->
            <div class="hallway" id="left-hall">
                <div class="door" id="door-left"></div>
                <div class="light-overlay" id="light-left-overlay"></div>
                <div class="animatronic-door" id="ai-left-visual">üê∞</div>
            </div>

            <!-- Left Control Panel -->
            <div class="control-panel left-panel">
                <div class="btn btn-door" id="btn-door-left" onclick="toggleDoor('left')"></div>
                <div class="btn btn-light" id="btn-light-left" onmousedown="toggleLight('left',true)" onmouseup="toggleLight('left',false)" onmouseleave="toggleLight('left',false)"></div>
            </div>

            <!-- Right Window (Chica peek) -->
            <div id="right-window">
                <div id="window-character">üêî</div>
            </div>

            <!-- Golden Freddy Apparition -->
            <div id="golden-freddy-office">üêª</div>

            <!-- Desk -->
            <div class="desk">
                <div class="fan">‚ùÑÔ∏è</div>
                <div class="desk-monitor"></div>
                <div class="desk-monitor"></div>
            </div>

            <!-- Right Control Panel -->
            <div class="control-panel right-panel">
                <div class="btn btn-door" id="btn-door-right" onclick="toggleDoor('right')"></div>
                <div class="btn btn-light" id="btn-light-right" onmousedown="toggleLight('right',true)" onmouseup="toggleLight('right',false)" onmouseleave="toggleLight('right',false)"></div>
            </div>

            <!-- Right Hallway (Chica) -->
            <div class="hallway" id="right-hall">
                <div class="door" id="door-right"></div>
                <div class="light-overlay" id="light-right-overlay"></div>
                <div class="animatronic-door" id="ai-right-visual">üêî</div>
            </div>
        </div>
    </div>

    <!-- ========== HUD ========== -->
    <div id="hud">
        <div class="hud-top-right">
            <div id="time-display">12:00 AM</div>
            <div id="night-display">Night 1</div>
            <div id="volume-control">
                <div id="volume-icon">üîä</div>
                <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="0.5">
            </div>
        </div>
        <div class="hud-bottom-left">
            <div style="color:#aaa">Power: <span id="power-display" style="color:#fff">100%</span></div>
            <div style="color:#aaa">Usage: <span id="usage-display">üîã</span></div>
        </div>
        <button id="cam-toggle" onclick="toggleCameras()">Open Monitor</button>
    </div>

    <!-- ========== CAMERA SYSTEM ========== -->
    <div id="camera-system">
        <div id="cam-view">
            <!-- Noise layers -->
            <canvas id="cam-noise-canvas" width="256" height="192"></canvas>
            <div class="cam-interference"></div>

            <!-- Static burst overlay (for camera switch) -->
            <div id="cam-static-overlay">
                <canvas id="cam-static-canvas" width="256" height="192" style="width:100%;height:100%;"></canvas>
            </div>

            <!-- Camera HUD elements -->
            <div class="cam-rec">
                <div class="cam-rec-dot"></div>
                <span>REC</span>
            </div>
            <div class="cam-signal">
                <div class="signal-bar"></div>
                <div class="signal-bar"></div>
                <div class="signal-bar"></div>
                <div class="signal-bar off"></div>
            </div>
            <div class="cam-timestamp" id="cam-timestamp">12:00:00 AM</div>

            <!-- Camera feed content -->
            <div id="cam-label">CAM 1A - Show Stage</div>
            <div id="cam-ai-visual"></div>
        </div>
        <div id="map">
            <div class="cam-btn active" id="cam-1A" onclick="switchCam('1A','Show Stage')">1A</div>
            <div class="cam-btn" id="cam-1B" onclick="switchCam('1B','Dining Area')">1B</div>
            <div class="cam-btn" id="cam-1C" onclick="switchCam('1C','Pirate Cove')">1C</div>
            <div class="cam-btn" id="cam-5" onclick="switchCam('5','Backstage')">5</div>
            <div class="cam-btn" id="cam-7" onclick="switchCam('7','Restrooms')">7</div>
            <div class="cam-btn" id="cam-6" onclick="switchCam('6','Kitchen')">6</div>
            <div class="cam-btn" id="cam-3" onclick="switchCam('3','Supply Closet')">3</div>
            <div class="cam-btn" id="cam-2A" onclick="switchCam('2A','West Hall')">2A</div>
            <div class="cam-btn" id="cam-2B" onclick="switchCam('2B','W. Hall Corner')">2B</div>
            <div class="cam-btn" id="cam-4A" onclick="switchCam('4A','East Hall')">4A</div>
            <div class="cam-btn" id="cam-4B" onclick="switchCam('4B','E. Hall Corner')">4B</div>
            <div class="you-are-here">OFFICE</div>
        </div>
    </div>

    <!-- ========== JUMPSCARE & ENDGAME ========== -->
    <div id="jumpscare-static"><canvas id="jumpscare-static-canvas" width="320" height="240"></canvas></div>
    <div id="jumpscare"><div id="jumpscare-icon"></div></div>
    <div id="gf-jumpscare"><div id="gf-jumpscare-icon">üêª</div></div>
    <div id="game-over">GAME OVER<br><button onclick="location.reload()" style="padding:10px;font-size:20px;margin-top:20px;cursor:pointer;background:#222;color:#fff;border:2px solid #fff">Retry</button></div>
    <div id="win-screen"><span id="win-text">6:00 AM</span><br><span id="win-subtext" style="font-size:30px">YOU SURVIVED</span><br><button onclick="location.reload()" style="padding:10px;font-size:20px;margin-top:20px;cursor:pointer;background:#fff;color:#000">Continue</button></div>

    <script src="game.js"></script>
</body>
</html>
